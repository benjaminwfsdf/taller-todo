<!DOCTYPE html>
<html lang="es">
<head>
  <link rel="manifest" href="manifest.json">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Taller">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <meta name="theme-color" content="#000000">
  <link rel="icon" type="image/png" href="icons/icon-192.png">

  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("service-worker.js");
      });
    }
  </script>

  <title>Panel Principal</title>
  <style>
    :root{
      --brand:#900000;
      --brand-900:#700000;
      --ink:#e9ecef;
      --muted:#b9c0c7;
      --bg:#0b0b0c;
      --panel:#0f0f11;
      --card:#16181b;
      --card-border:#272a2f;
      --shadow:0 10px 28px rgba(0,0,0,.45);
      --shadow-hover:0 14px 40px rgba(0,0,0,.6);
      --radius:16px;
    }

    * {
      box-sizing: border-box;
    }

    html,body{
      height:100%;
      margin:0;
      padding:0;
      overflow-x: hidden;
    }
    
    body{
      font-family: system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial,sans-serif;
      background: var(--bg);
      color: var(--ink);
      line-height: 1.55;
      -webkit-text-size-adjust: 100%;
      -webkit-tap-highlight-color: transparent;
    }

    #splash{
      position: fixed;
      inset: 0;
      background: #000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity .4s ease;
      text-align:center;
      padding: 24px;
      opacity: 1;
    }
    #splash img{
      width:160px;
      height:auto;
      margin-bottom:14px;
      filter: drop-shadow(0 8px 22px rgba(144,0,0,.35));
      animation: glow 1.2s ease-in-out infinite alternate;
    }
    @keyframes glow{
      from{ filter: drop-shadow(0 6px 16px rgba(144,0,0,.25)); }
      to  { filter: drop-shadow(0 12px 28px rgba(144,0,0,.45)); }
    }

    .topbar{
      background:#000;
      color:#fff;
      text-align:center;
      padding:12px 10px;
      font-weight:700;
      letter-spacing:.5px;
      border-bottom:4px solid var(--brand);
      box-shadow: 0 4px 12px rgba(0,0,0,.55);
      position: sticky;
      top: 0;
      z-index: 1000;
      font-size: 14px;
    }

    .wrapper{
      max-width:1100px;
      margin:20px auto 30px;
      padding:0 16px;
      opacity:0;
      transition:opacity .4s ease;
      width: 100%;
    }
    
    .frame{
      border:3px solid var(--brand);
      border-radius:var(--radius);
      padding:20px;
      background:var(--panel);
      box-shadow:var(--shadow);
      width: 100%;
    }
    
    .header{
      margin:10px;
      background:var(--brand);
      color:#fff;
      border-radius:18px;
      padding:20px;
      text-align:center;
      box-shadow:0 10px 22px rgba(179,0,0,.35);
      width: 100%;
    }
    
    .header h1{
      margin:0;
      font-size:clamp(20px,3.2vw,28px);
      letter-spacing:.5px;
      word-wrap: break-word;
    }
    
    .grid{
      display:grid;
      grid-template-columns:repeat(2,minmax(0,1fr));
      gap:20px;
      padding:12px;
      width: 100%;
    }
    
    @media(max-width:900px){
      .grid{
        grid-template-columns:1fr;
        gap: 16px;
        padding: 8px;
      }
    }
    
    @media(max-width: 480px){
      .grid{
        gap: 12px;
        padding: 4px;
      }
    }
    
    .card{
      position:relative;
      background:var(--card);
      border:1px solid var(--card-border);
      border-radius:14px;
      box-shadow:0 6px 18px rgba(0,0,0,.35);
      padding:18px;
      display:flex;
      gap:16px;
      align-items:flex-start;
      transition:.2s;
      isolation:isolate;
      width: 100%;
      min-height: 120px;
    }
    
    .card::before{
      content:"";
      position:absolute;
      inset:0 auto 0 0;
      width:8px;
      border-radius:14px 0 0 14px;
      background:var(--brand);
    }
    
    .card:hover{
      box-shadow:var(--shadow-hover);
      transform:translateY(-2px);
      border-color:#32363d;
      background:#191c20;
    }
    
    .icon{
      flex:0 0 44px;
      height:44px;
      border-radius:12px;
      display:grid;
      place-items:center;
      background:#0c0c0e;
      border:2px solid var(--brand);
      color:#fff;
      font-size:22px;
      margin-left:6px;
      box-shadow:inset 0 0 12px rgba(179,0,0,.35);
    }
    
    @media(max-width: 480px){
      .icon{
        flex: 0 0 40px;
        height: 40px;
        font-size: 20px;
      }
      
      .card{
        padding: 16px;
        gap: 12px;
        min-height: 110px;
      }
    }
    
    .content{
      flex:1 1 auto;
      min-width: 0;
    }
    
    .title{
      margin:0 0 6px;
      font-size:clamp(16px,2.2vw,18px);
      font-weight:800;
      color:#f5f7fa;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
    
    .desc{
      margin:0;
      color:var(--muted);
      font-size:14.5px;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }
    
    @media(max-width: 480px){
      .desc{
        font-size: 13px;
      }
      
      .title{
        font-size: 16px;
      }
    }
    
    .actions{
      display:flex;
      align-items:center;
      gap:10px;
      margin-left:auto;
      flex-shrink: 0;
    }
    
    /* BOT√ìN PRINCIPAL - Para "Abrir" */
    .btn{
      border:2px solid var(--brand);
      border-radius:12px;
      padding:10px 16px;
      font-weight:800;
      cursor:pointer;
      text-decoration:none;
      color:#fff;
      background:#0c0c0e;
      box-shadow:0 2px 0 rgba(0,0,0,.6),inset 0 0 12px rgba(179,0,0,.25);
      display:inline-block;
      text-align:center;
      font-size:14px;
      min-width: 100px;
      white-space: nowrap;
      transition: all 0.2s ease;
    }
    
    .btn:hover{
      background:var(--brand);
    }
    
    @media(max-width: 480px){
      .btn{
        min-width: 90px;
        padding: 8px 12px;
        font-size: 13px;
      }
    }
    
    /* BOT√ìN "VER OPCIONES" - TAMA√ëO FIJO PARA TODOS */
    .btn-options{
      border:2px solid var(--brand);
      border-radius:12px;
      padding:10px 16px;
      font-weight:800;
      cursor:pointer;
      text-decoration:none;
      color:#fff;
      background:#0c0c0e;
      box-shadow:0 2px 0 rgba(0,0,0,.6),inset 0 0 12px rgba(179,0,0,.25);
      display:inline-block;
      text-align:center;
      font-size:14px;
      min-width: 120px;
      white-space: nowrap;
      transition: all 0.2s ease;
    }
    
    .btn-options:hover{
      background:var(--brand);
    }
    
    @media(max-width: 480px){
      .btn-options{
        min-width: 110px;
        padding: 8px 12px;
        font-size: 13px;
      }
    }
    
    .footer{
      text-align:center;
      color:#8c96a3;
      font-size:12px;
      margin:20px 0 32px;
      width: 100%;
    }
    
    .footer strong{color:#cfd6de;}
    
    /* Estilos para las secciones espec√≠ficas */
    .section-content{display:none;}
    .section-content.active{display:block;}
    
    /* Header de secci√≥n */
    .section-header{
      display:flex;
      align-items:center;
      gap:15px;
      margin-bottom:20px;
      padding: 20px;
      background: var(--brand);
      color:#fff;
      border-radius:18px;
      box-shadow:0 10px 22px rgba(179,0,0,.35);
      width: 100%;
    }
    
    .section-header .icon-large{
      flex:0 0 60px;
      height:60px;
      border-radius:14px;
      display:grid;
      place-items:center;
      background:#0c0c0e;
      border:3px solid #fff;
      color:#fff;
      font-size:28px;
      box-shadow:inset 0 0 16px rgba(179,0,0,.35);
    }
    
    .section-header .header-content{
      flex:1;
      min-width: 0;
    }
    
    .section-header h2{
      margin:0 0 5px;
      font-size:24px;
      color:#fff;
      letter-spacing:.5px;
      word-wrap: break-word;
    }
    
    .section-header p{
      margin:0;
      color:rgba(255,255,255,0.8);
      font-size:14.5px;
      word-wrap: break-word;
    }
    
    /* Bot√≥n de volver */
    .btn-back{
      border:2px solid var(--muted);
      border-radius:12px;
      padding:10px 16px;
      font-weight:800;
      cursor:pointer;
      text-decoration:none;
      color:var(--muted);
      background:#0c0c0e;
      box-shadow:0 2px 0 rgba(0,0,0,.6),inset 0 0 12px rgba(185,192,199,.25);
      display:inline-flex;
      align-items: center;
      gap: 8px;
      margin-bottom:20px;
      font-size:14px;
      transition: all 0.2s ease;
    }
    
    .btn-back:hover{
      background:var(--muted);
      color:#000;
    }
    
    /* Indicador de grupo */
    .group-indicator {
      display: inline-flex;
      align-items: center;
      gap: 5px;
      font-size: 12px;
      color: var(--muted);
      margin-top: 6px;
    }
    
    .group-indicator::before {
      content: "üìÅ";
      font-size: 10px;
    }
    
    /* Mejoras responsivas para secciones internas */
    @media(max-width: 768px){
      .wrapper{
        margin: 16px auto 24px;
        padding: 0 12px;
      }
      
      .frame{
        padding: 16px;
      }
      
      .header{
        padding: 16px;
        margin: 8px;
      }
      
      .section-header{
        flex-direction: column;
        text-align: center;
        gap: 12px;
        padding: 16px;
      }
      
      .section-header .icon-large{
        flex: 0 0 50px;
        height: 50px;
        font-size: 24px;
      }
      
      .section-header h2{
        font-size: 20px;
      }
      
      .section-header p{
        font-size: 14px;
      }
      
      .btn-back{
        padding: 8px 12px;
        font-size: 13px;
      }
    }
    
    @media(max-width: 480px){
      .wrapper{
        margin: 12px auto 20px;
        padding: 0 10px;
      }
      
      .frame{
        padding: 14px;
      }
      
      .header{
        padding: 14px;
        margin: 6px;
      }
      
      .section-header .icon-large{
        flex: 0 0 45px;
        height: 45px;
        font-size: 22px;
      }
      
      .section-header h2{
        font-size: 18px;
      }
      
      .group-indicator{
        font-size: 11px;
      }
    }
    
    /* Mejorar toque en m√≥viles */
    @media (hover: none) and (pointer: coarse) {
      .btn, .btn-options, .btn-back {
        min-height: 44px;
        display: inline-flex;
        align-items: center;
        justify-content: center;
      }
      
      .card {
        cursor: pointer;
      }
    }
    
    /* Prevenir zoom en iOS */
    @media (max-width: 768px) {
      input, textarea, select {
        font-size: 16px;
      }
    }
    
    /* Animaci√≥n para botones en m√≥vil */
    @media (hover: none) {
      .btn:active, .btn-options:active, .btn-back:active {
        transform: translateY(1px);
        box-shadow: 0 1px 0 rgba(0,0,0,.6), inset 0 0 12px rgba(179,0,0,.25);
      }
    }
  </style>

  <script>
    (function(){
      const nav = (performance.getEntriesByType && performance.getEntriesByType('navigation')[0]) || null;
      const isFirstNav = nav ? nav.type === 'navigate' : true;
      const alreadyShown = sessionStorage.getItem('splashShownV2') === '1';
      window.__SHOW_SPLASH__ = isFirstNav && !alreadyShown;
      if(!window.__SHOW_SPLASH__){
        const s=document.createElement('style');
        s.innerHTML='#splash{display:none!important;opacity:0!important}.wrapper{opacity:1!important}';
        document.head.appendChild(s);
      }
    })();
  </script>
</head>
<body>
  <div id="splash" aria-live="polite">
    <img src="icons/icon-192.png" alt="Logo Taller">
    <div class="brand">El Se√±or de los Scanner</div>
    <div class="tagline">Cargando panel principal‚Ä¶</div>
    <div class="bar" aria-hidden="true"></div>
  </div>

  <div class="topbar">WWW.ELSE√ëORDELOSESCANER.CL</div>

  <div class="wrapper">
    <!-- MEN√ö PRINCIPAL (secci√≥n inicial) -->
    <div id="main-menu" class="frame section-content active">
      <div class="header"><h1>Panel Principal</h1></div>

      <div class="grid" role="list">
        <!-- üöó Gesti√≥n de Veh√≠culos -->
        <article class="card" role="listitem">
          <div class="icon">üöó</div>
          <div class="content">
            <h2 class="title">Gesti√≥n de Veh√≠culos</h2>
            <p class="desc">A√±adir, buscar y actualizar el estado de los autos del taller.</p>
          </div>
          <div class="actions"><a class="btn" href="gestion_autos.html">Abrir</a></div>
        </article>

        <!-- üíª Computadoras -->
        <article class="card" role="listitem">
          <div class="icon">üíª</div>
          <div class="content">
            <h2 class="title">Computadoras</h2>
            <p class="desc">Gesti√≥n de DPF OFF y registro/consulta de ECUs y BCMs.</p>
          </div>
          <div class="actions"><a class="btn" href="dpf_off.html">Abrir</a></div>
        </article>

        <!-- üõ¢Ô∏è ACEITE (Grupo: Gesti√≥n de Aceites + Checklist) -->
        <article class="card" role="listitem" onclick="showSection('grupo-aceite')">
          <div class="icon">üõ¢Ô∏è</div>
          <div class="content">
            <h2 class="title">Aceite</h2>
            <p class="desc">Inventario Serviteca y checklist de servicio</p>
            <div class="group-indicator">Contiene: Inventario Serviteca  + Checklist</div>
          </div>
          <div class="actions">
            <button class="btn-options" onclick="event.stopPropagation();showSection('grupo-aceite')">Ver opciones</button>
          </div>
        </article>

        <!-- üìÑ INFORMES (NUEVO GRUPO) -->
        <article class="card" role="listitem" onclick="showSection('grupo-informes')">
          <div class="icon">üìÑ</div>
          <div class="content">
            <h2 class="title">Informes de Diagn√≥stico</h2>
            <p class="desc">Crear y buscar informes de diagn√≥stico</p>
            <div class="group-indicator">Contiene: Crear informes + Buscar informes</div>
          </div>
          <div class="actions">
            <button class="btn-options" onclick="event.stopPropagation();showSection('grupo-informes')">Ver opciones</button>
          </div>
        </article>

        <!-- üë• ORDEN Y CLIENTES (Grupo) -->
        <article class="card" role="listitem" onclick="showSection('grupo-clientes')">
          <div class="icon">üë•</div>
          <div class="content">
            <h2 class="title">Orden y Clientes</h2>
            <p class="desc">Gesti√≥n de turnos y panel para clientes</p>
            <div class="group-indicator">Contiene: Orden de llegada + Panel clientes</div>
          </div>
          <div class="actions">
            <button class="btn-options" onclick="event.stopPropagation();showSection('grupo-clientes')">Ver opciones</button>
          </div>
        </article>

        <!-- ‚ÑπÔ∏è INFORMACI√ìN (Grupo) -->
        <article class="card" role="listitem" onclick="showSection('grupo-informacion')">
          <div class="icon">‚ÑπÔ∏è</div>
          <div class="content">
            <h2 class="title">Informaci√≥n</h2>
            <p class="desc">Herramientas de consulta y contacto</p>
            <div class="group-indicator">Contiene: Tarjeta virtual + Buscador + Patentes</div>
          </div>
          <div class="actions">
            <button class="btn-options" onclick="event.stopPropagation();showSection('grupo-informacion')">Ver opciones</button>
          </div>
        </article>
      </div>
    </div>

    <!-- GRUPO ACEITE: Gesti√≥n de Aceites + Checklist -->
    <div id="grupo-aceite" class="frame section-content">
      <div class="section-header">
        <div class="icon-large">üõ¢Ô∏è</div>
        <div class="header-content">
          <h2>Aceite</h2>
          <p>Inventario Serviteca y checklist de servicio de cambio de aceite</p>
        </div>
      </div>
      
      <a href="javascript:void(0)" class="btn btn-back" onclick="showSection('main-menu')">
        <span style="font-size: 18px;">‚Üê</span>
        <span>Volver al men√∫ principal</span>
      </a>
      
      <div class="grid" role="list">
        <!-- Gesti√≥n de Aceites -->
        <article class="card" role="listitem">
          <div class="icon">üõ¢Ô∏è</div>
          <div class="content">
            <h2 class="title">Inventario Serviteca</h2>
            <p class="desc">Control de inventario, ventas y reportes de lubricantes.</p>
          </div>
          <div class="actions">
            <a class="btn" href="aceite.html">Abrir</a>
          </div>
        </article>
        
        <!-- Checklist de Servicio -->
        <article class="card" role="listitem">
          <div class="icon">‚úÖ</div>
          <div class="content">
            <h2 class="title">Checklist de Servicio</h2>
            <p class="desc">Registrar y seguir paso a paso el cambio de aceite.</p>
          </div>
          <div class="actions">
            <a class="btn" href="checklist.html">Abrir</a>
          </div>
        </article>
      </div>
    </div>

    <!-- GRUPO CLIENTES: Orden de llegada + Panel clientes -->
    <div id="grupo-clientes" class="frame section-content">
      <div class="section-header">
        <div class="icon-large">üë•</div>
        <div class="header-content">
          <h2>Orden y Clientes</h2>
          <p>Gesti√≥n de turnos y visualizaci√≥n para clientes</p>
        </div>
      </div>
      
      <a href="javascript:void(0)" class="btn btn-back" onclick="showSection('main-menu')">
        <span style="font-size: 18px;">‚Üê</span>
        <span>Volver al men√∫ principal</span>
      </a>
      
      <div class="grid" role="list">
        <!-- Orden de llegada -->
        <article class="card" role="listitem">
          <div class="icon">üï∞Ô∏è</div>
          <div class="content">
            <h2 class="title">Orden de llegada</h2>
            <p class="desc">Gesti√≥n de turnos de clientes por orden de ingreso.</p>
          </div>
          <div class="actions">
            <a class="btn" href="clientes_turno.html">Abrir</a>
          </div>
        </article>
        
        <!-- Panel clientes -->
        <article class="card" role="listitem">
          <div class="icon">üßæ</div>
          <div class="content">
            <h2 class="title">Panel clientes (Orden)</h2>
            <p class="desc">Vista p√∫blica para que el cliente vea su turno.</p>
          </div>
          <div class="actions">
            <a class="btn" href="panel_clientes.html">Abrir</a>
          </div>
        </article>
      </div>
    </div>

    <!-- GRUPO INFORMACI√ìN: Tarjeta virtual + Buscador + Patentes -->
    <div id="grupo-informacion" class="frame section-content">
      <div class="section-header">
        <div class="icon-large">‚ÑπÔ∏è</div>
        <div class="header-content">
          <h2>Informaci√≥n</h2>
          <p>Herramientas de consulta y contacto</p>
        </div>
      </div>
      
      <a href="javascript:void(0)" class="btn btn-back" onclick="showSection('main-menu')">
        <span style="font-size: 18px;">‚Üê</span>
        <span>Volver al men√∫ principal</span>
      </a>
      
      <div class="grid" role="list">
        <!-- Tarjeta virtual -->
        <article class="card" role="listitem">
          <div class="icon">ü§≥</div>
          <div class="content">
            <h2 class="title">Tarjeta Virtual</h2>
            <p class="desc">Mostrar c√≥digo QR o compartir link de contacto.</p>
          </div>
          <div class="actions">
            <a class="btn" href="tarjeta-virtual.html">Abrir</a>
          </div>
        </article>
        
        <!-- Buscador de c√≥digos -->
        <article class="card" role="listitem">
          <div class="icon">üèéÔ∏è</div>
          <div class="content">
            <h2 class="title">Buscador de c√≥digos</h2>
            <p class="desc">Consulta r√°pida de DTC y descripciones de aver√≠as.</p>
          </div>
          <div class="actions">
            <a class="btn" href="buscador_averias.html" target="_blank">Abrir</a>
          </div>
        </article>
        
        <!-- Patentes Chile -->
        <article class="card" role="listitem">
          <div class="icon">üî¢</div>
          <div class="content">
            <h2 class="title">Patentes Chile</h2>
            <p class="desc">Consulta externa de informaci√≥n por patente.</p>
          </div>
          <div class="actions">
            <a class="btn" href="https://www.patentechile.com/" target="_blank" rel="noopener">Abrir</a>
          </div>
        </article>
      </div>
    </div>

    <!-- NUEVO GRUPO INFORMES: Crear informes + Buscar informes -->
    <div id="grupo-informes" class="frame section-content">
      <div class="section-header">
        <div class="icon-large">üìÑ</div>
        <div class="header-content">
          <h2>Informes de Diagn√≥stico</h2>
          <p>Crear nuevos informes y consultar el historial por patente</p>
        </div>
      </div>
      
      <a href="javascript:void(0)" class="btn btn-back" onclick="showSection('main-menu')">
        <span style="font-size: 18px;">‚Üê</span>
        <span>Volver al men√∫ principal</span>
      </a>
      
      <div class="grid" role="list">
        <!-- Crear informes -->
        <article class="card" role="listitem">
          <div class="icon">‚ûï</div>
          <div class="content">
            <h2 class="title">Crear Informe</h2>
            <p class="desc">Generar nuevo informe de diagn√≥stico para un veh√≠culo.</p>
          </div>
          <div class="actions">
            <a class="btn" href="https://taller-todo.vercel.app/informes.html" target="_blank">Abrir</a>
          </div>
        </article>
        
        <!-- Buscar informes -->
        <article class="card" role="listitem">
          <div class="icon">üîç</div>
          <div class="content">
            <h2 class="title">Buscar Informes</h2>
            <p class="desc">Consultar historial completo por patente de veh√≠culo.</p>
          </div>
          <div class="actions">
            <a class="btn" href="buscar_informe.html">Abrir</a>
          </div>
        </article>
      </div>
    </div>
    
    <div class="footer">¬© 2025 <strong>Benjamin Gonz√°lez</strong>. Todos los derechos reservados.</div>
  </div>

  <script>
    const MIN_SPLASH_MS = 900;
    (async function(){
      const splash=document.getElementById('splash');
      const wrapper=document.querySelector('.wrapper');
      if(!window.__SHOW_SPLASH__){
        wrapper.style.opacity='1';
        splash.style.display='none';
        return;
      }
      const waitForLogo=()=>new Promise(res=>{
        const img=splash.querySelector('img');
        if(!img||img.complete)return res();
        img.addEventListener('load',res,{once:true});
        img.addEventListener('error',res,{once:true});
      });
      const start=performance.now();
      await waitForLogo();
      const elapsed=performance.now()-start;
      setTimeout(()=>{
        splash.style.opacity='0';
        wrapper.style.opacity='1';
        setTimeout(()=>splash.remove(),400);
        sessionStorage.setItem('splashShownV2','1');
      },Math.max(0,MIN_SPLASH_MS-elapsed));
    })();
    
    // Funci√≥n para cambiar entre secciones
    function showSection(sectionId) {
      // Ocultar todas las secciones
      document.querySelectorAll('.section-content').forEach(section => {
        section.classList.remove('active');
      });
      
      // Mostrar la secci√≥n solicitada
      const targetSection = document.getElementById(sectionId);
      if (targetSection) {
        targetSection.classList.add('active');
        
        // Actualizar el t√≠tulo de la p√°gina seg√∫n la secci√≥n
        let pageTitle = 'Panel Principal';
        if (sectionId === 'grupo-aceite') {
          pageTitle = 'Aceite - Panel Principal';
        } else if (sectionId === 'grupo-clientes') {
          pageTitle = 'Orden y Clientes - Panel Principal';
        } else if (sectionId === 'grupo-informacion') {
          pageTitle = 'Informaci√≥n - Panel Principal';
        } else if (sectionId === 'grupo-informes') {
          pageTitle = 'Informes - Panel Principal';
        }
        document.title = pageTitle;
        
        // Hacer scroll suave al principio de la p√°gina
        window.scrollTo({ top: 0, behavior: 'smooth' });
        
        // Actualizar historial
        history.pushState({section: sectionId}, '', `?section=${sectionId}`);
      }
    }
    
    // Manejar el bot√≥n de retroceso del navegador
    window.addEventListener('popstate', function(event) {
      if (event.state && event.state.section) {
        showSection(event.state.section);
      } else {
        showSection('main-menu');
      }
    });
    
    // Inicializar seg√∫n la URL
    function initFromURL() {
      const urlParams = new URLSearchParams(window.location.search);
      const section = urlParams.get('section');
      const validSections = ['grupo-aceite', 'grupo-clientes', 'grupo-informacion', 'grupo-informes'];
      if (section && validSections.includes(section)) {
        showSection(section);
        history.replaceState({section: section}, '', `?section=${section}`);
      }
    }
    
    // Inicializar cuando el DOM est√© listo
    document.addEventListener('DOMContentLoaded', initFromURL);
    
    // Mejorar experiencia t√°ctil en m√≥viles
    if ('ontouchstart' in window) {
      document.addEventListener('touchstart', function() {}, {passive: true});
    }
  </script>
</body>
</html>
<script async data-explicit-opt-in="true" data-cookie-opt-in="true" data-deployment-id="dpl_BrTaK8zsPjXswZZxQwmdBrLnMabY" src="https://vercel.live/_next-live/feedback/feedback.js"></script>
