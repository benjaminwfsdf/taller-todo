<!DOCTYPE html>
<html lang="es">
<head>
  <link rel="manifest" href="manifest.json">

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Taller">
  <link rel="apple-touch-icon" href="icons/icon-192.png">

  <meta name="theme-color" content="#000000">
  <link rel="icon" type="image/png" href="icons/icon-192.png">

  <script>
    if ("serviceWorker" in navigator) {
      window.addEventListener("load", () => {
        navigator.serviceWorker.register("service-worker.js");
      });
    }
  </script>

  <title>Panel Principal</title>
  <style>
    :root{
      --brand:#900000;
      --brand-900:#700000;
      --ink:#e9ecef;
      --muted:#b9c0c7;
      --bg:#0b0b0c;
      --panel:#0f0f11;
      --card:#16181b;
      --card-border:#272a2f;
      --shadow:0 10px 28px rgba(0,0,0,.45);
      --shadow-hover:0 14px 40px rgba(0,0,0,.6);
      --radius:16px;
    }

    html,body{height:100%}
    body{
      margin:0;
      font-family: system-ui,-apple-system,"Segoe UI",Roboto,Inter,Arial,sans-serif;
      background: var(--bg);
      color: var(--ink);
      line-height: 1.55;
    }

    #splash{
      position: fixed;
      inset: 0;
      background: #000;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
      transition: opacity .4s ease;
      text-align:center;
      padding: 24px;
      opacity: 1;
    }
    #splash img{
      width:160px;
      height:auto;
      margin-bottom:14px;
      filter: drop-shadow(0 8px 22px rgba(144,0,0,.35));
      animation: glow 1.2s ease-in-out infinite alternate;
    }
    @keyframes glow{
      from{ filter: drop-shadow(0 6px 16px rgba(144,0,0,.25)); }
      to  { filter: drop-shadow(0 12px 28px rgba(144,0,0,.45)); }
    }

    .topbar{
      background:#000;
      color:#fff;
      text-align:center;
      padding:14px 10px;
      font-weight:700;
      letter-spacing:.6px;
      border-bottom:4px solid var(--brand);
      box-shadow: 0 6px 16px rgba(0,0,0,.55);
    }

    .wrapper{max-width:1100px;margin:28px auto 44px;padding:0 16px;opacity:0;transition:opacity .4s ease;}
    .frame{border:3px solid var(--brand);border-radius:var(--radius);padding:20px;background:var(--panel);box-shadow:var(--shadow);}
    .header{margin:10px;background:var(--brand);color:#fff;border-radius:18px;padding:20px 24px;text-align:center;box-shadow:0 10px 22px rgba(179,0,0,.35);}
    .header h1{margin:0;font-size:clamp(20px,3.2vw,28px);letter-spacing:.5px;}
    .grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:20px;padding:12px;}
    @media(max-width:900px){.grid{grid-template-columns:1fr;}}
    .card{position:relative;background:var(--card);border:1px solid var(--card-border);border-radius:14px;
          box-shadow:0 6px 18px rgba(0,0,0,.35);padding:18px;display:flex;gap:16px;align-items:flex-start;
          transition:.2s;isolation:isolate;}
    .card::before{content:"";position:absolute;inset:0 auto 0 0;width:8px;border-radius:14px 0 0 14px;background:var(--brand);}
    .card:hover{box-shadow:var(--shadow-hover);transform:translateY(-2px);border-color:#32363d;background:#191c20;}
    .icon{flex:0 0 44px;height:44px;border-radius:12px;display:grid;place-items:center;background:#0c0c0e;
          border:2px solid var(--brand);color:#fff;font-size:22px;margin-left:6px;box-shadow:inset 0 0 12px rgba(179,0,0,.35);}
    .content{flex:1 1 auto;min-width:0;}
    .title{margin:0 0 6px;font-size:clamp(16px,2.2vw,18px);font-weight:800;color:#f5f7fa;}
    .desc{margin:0;color:var(--muted);font-size:14.5px;}
    .actions{display:flex;align-items:center;gap:10px;margin-left:auto;}
    .btn{border:2px solid var(--brand);border-radius:12px;padding:10px 16px;font-weight:800;cursor:pointer;
         text-decoration:none;color:#fff;background:#0c0c0e;box-shadow:0 2px 0 rgba(0,0,0,.6),inset 0 0 12px rgba(179,0,0,.25);}
    .btn:hover{background:var(--brand);}
    .footer{text-align:center;color:#8c96a3;font-size:12px;margin:20px 0 32px;}
    .footer strong{color:#cfd6de;}
  </style>

  <script>
    (function(){
      const nav = (performance.getEntriesByType && performance.getEntriesByType('navigation')[0]) || null;
      const isFirstNav = nav ? nav.type === 'navigate' : true;
      const alreadyShown = sessionStorage.getItem('splashShownV2') === '1';
      window.__SHOW_SPLASH__ = isFirstNav && !alreadyShown;
      if(!window.__SHOW_SPLASH__){
        const s=document.createElement('style');
        s.innerHTML='#splash{display:none!important;opacity:0!important}.wrapper{opacity:1!important}';
        document.head.appendChild(s);
      }
    })();
  </script>
</head>
<body>
  <div id="splash" aria-live="polite">
    <img src="icons/icon-192.png" alt="Logo Taller">
    <div class="brand">El Se√±or de los Scanner</div>
    <div class="tagline">Cargando panel principal‚Ä¶</div>
    <div class="bar" aria-hidden="true"></div>
  </div>

  <div class="topbar">WWW.ELSE√ëORDELOSESCANER.CL</div>

  <div class="wrapper">
    <div class="frame">
      <div class="header"><h1>Panel Principal</h1></div>

      <div class="grid" role="list">
        <!-- üöó Gesti√≥n de Veh√≠culos -->
        <article class="card" role="listitem">
          <div class="icon">üöó</div>
          <div class="content">
            <h2 class="title">Gesti√≥n de Veh√≠culos</h2>
            <p class="desc">A√±adir, buscar y actualizar el estado de los autos del taller.</p>
          </div>
          <div class="actions"><a class="btn" href="gestion_autos.html">Abrir</a></div>
        </article>

        <!-- üíª Computadoras -->
        <article class="card" role="listitem">
          <div class="icon">üíª</div>
          <div class="content">
            <h2 class="title">Computadoras</h2>
            <p class="desc">Gesti√≥n de DPF OFF y registro/consulta de ECUs y BCMs.</p>
          </div>
          <div class="actions"><a class="btn" href="dpf_off.html">Abrir</a></div>
        </article>

        <!-- üõ¢Ô∏è Aceites -->
        <article class="card" role="listitem">
          <div class="icon">üõ¢Ô∏è</div>
          <div class="content">
            <h2 class="title">Gesti√≥n de Aceites</h2>
            <p class="desc">Control de inventario, ventas y reportes de lubricantes.</p>
          </div>
          <div class="actions"><a class="btn" href="aceite.html">Abrir</a></div>
        </article>

        <!-- üìÑ Informes -->
        <article class="card" role="listitem">
          <div class="icon">üìÑ</div>
          <div class="content">
            <h2 class="title">Informes de Diagn√≥stico</h2>
            <p class="desc">Crear informes. Se abre en una pesta√±a nueva.</p>
          </div>
          <div class="actions"><a class="btn" href="https://taller-todo.vercel.app/informes.html" target="_blank">Abrir</a></div>
        </article>

        <!-- üï∞Ô∏è Orden de llegada -->
        <article class="card" role="listitem">
          <div class="icon">üï∞Ô∏è</div>
          <div class="content">
            <h2 class="title">Orden de llegada</h2>
            <p class="desc">Gesti√≥n de turnos de clientes por orden de ingreso.</p>
          </div>
          <div class="actions"><a class="btn" href="clientes_turno.html">Abrir</a></div>
        </article>

        <!-- üßæ Panel clientes -->
        <article class="card" role="listitem">
          <div class="icon">üßæ</div>
          <div class="content">
            <h2 class="title">Panel clientes (Orden)</h2>
            <p class="desc">Vista p√∫blica para que el cliente vea su turno.</p>
          </div>
          <div class="actions"><a class="btn" href="panel_clientes.html">Abrir</a></div>
        </article>

        <!-- ü§≥ Tarjeta virtual -->
        <article class="card" role="listitem">
          <div class="icon">ü§≥</div>
          <div class="content">
            <h2 class="title">Tarjeta Virtual</h2>
            <p class="desc">Mostrar c√≥digo QR o compartir link de contacto.</p>
          </div>
          <div class="actions"><a class="btn" href="tarjeta-virtual.html">Abrir</a></div>
        </article>

        <!-- üèéÔ∏è Buscador -->
        <article class="card" role="listitem">
          <div class="icon">üèéÔ∏è</div>
          <div class="content">
            <h2 class="title">Buscador de c√≥digos</h2>
            <p class="desc">Consulta r√°pida de DTC y descripciones de aver√≠as.</p>
          </div>
          <div class="actions"><a class="btn" href="buscador_averias.html" target="_blank">Abrir</a></div>
        </article>

        <!-- üî¢ Patentes Chile -->
        <article class="card" role="listitem">
          <div class="icon">üî¢</div>
          <div class="content">
            <h2 class="title">Patentes Chile</h2>
            <p class="desc">Consulta externa de informaci√≥n por patente.</p>
          </div>
          <div class="actions"><a class="btn" href="https://www.patentechile.com/" target="_blank" rel="noopener">Abrir</a></div>
        </article>
      </div>
    </div>
    <div class="footer">¬© 2025 <strong>Benjamin Gonz√°lez</strong>. Todos los derechos reservados.</div>
  </div>

  <script>
    const MIN_SPLASH_MS = 900;
    (async function(){
      const splash=document.getElementById('splash');
      const wrapper=document.querySelector('.wrapper');
      if(!window.__SHOW_SPLASH__){
        wrapper.style.opacity='1';
        splash.style.display='none';
        return;
      }
      const waitForLogo=()=>new Promise(res=>{
        const img=splash.querySelector('img');
        if(!img||img.complete)return res();
        img.addEventListener('load',res,{once:true});
        img.addEventListener('error',res,{once:true});
      });
      const start=performance.now();
      await waitForLogo();
      const elapsed=performance.now()-start;
      setTimeout(()=>{
        splash.style.opacity='0';
        wrapper.style.opacity='1';
        setTimeout(()=>splash.remove(),400);
        sessionStorage.setItem('splashShownV2','1');
      },Math.max(0,MIN_SPLASH_MS-elapsed));
    })();
  </script>
</body>
</html>
